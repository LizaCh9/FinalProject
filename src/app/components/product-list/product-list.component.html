<ng-container *ngIf="products$ | async as products; else loading">

  <div class="product-container" *ngIf="products.length > 0; else noProducts">
    <div class="product-card" *ngFor="let product of products">
      <img [src]="product.thumbnail" alt="{{ product.title }}">
      <h2>{{ product.title }}</h2>
      <p>{{ product.description }}</p>
      <p class="price">{{ product.price | price }}</p>
      <p class="rating">‚≠ê {{ product.rating?.rate }} ({{ product.rating?.count }} reviews)</p>
      <a [routerLink]="['/product', product.id]" class="view-details">View Details</a>
    </div>
  </div>
</ng-container>

<ng-template #loading>
  <app-loading-spinner></app-loading-spinner>
</ng-template>

<ng-template #noProducts>
  <p>No products available.</p>
</ng-template>

